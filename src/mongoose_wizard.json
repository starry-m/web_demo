{
  "version": "1.0.1", 
  "level": 0, 
  "http": {"http": true, "https": true, "ui": true, "login": true}, 
  "mqtt": {"enable": true, "url": "mqtt://broker.hivemq.com:1883"}, 
  "dns": {"type": "default", "url": "udp://8.8.8.8:53", "captive": false}, 
  "sntp": {"enable": true, "type": 0, "url": "udp://time.google.com:123", "interval": 3600}, 
  "modbus": {"enable": true, "port": 502}, 
  "build": {"board": "unix", "ide": "GCC+make", "rtos": "baremetal", "cores": []}, 
  "api": {
    "reboot": {
      "type": "action", 
      "read_level": 3, 
      "write_level": 7, 
      "value": false
    }, 
    "firmware_update": {
      "type": "ota", 
      "read_level": 3, 
      "write_level": 7
    }, 
    "file_upload": {
      "type": "upload", 
      "read_level": 3, 
      "write_level": 7
    }, 
    "graph1": {
      "type": "graph", 
      "read_level": 3, 
      "write_level": 3, 
      "values": [
        [1724576787,20.3],
        [1724576847,27.2],
        [1724576907,29.7],
        [1724576967,27.9],
        [1724577027,25.1],
        [1724577087,23.8],
        [1724577147,22.5],
        [1724577207,22.2],
        [1724577267,23.3],
        [1724577327,23.9]
      ]
    }, 
    "state": {
      "type": "object", 
      "readonly": true, 
      "attributes": {
        "speed": {"type": "int", "value": 42}, 
        "temperature": {"type": "int", "value": 27}, 
        "humidity": {"type": "int", "value": 70}, 
        "uptime": {"type": "int", "value": 10}, 
        "version": {"type": "string", "value": "1.0.0", "size": 20}, 
        "online": {"type": "bool", "value": true}, 
        "lights": {"type": "bool", "value": false}, 
        "level": {"type": "int", "value": 83}
      }
    }, 
    "leds": {
      "type": "object", 
      "read_level": 3, 
      "write_level": 3, 
      "attributes": {
        "led1": {"type": "bool", "value": false}, 
        "led2": {"type": "bool", "value": true}, 
        "led3": {"type": "bool", "value": false}
      }
    }, 
    "settings": {
      "type": "object", 
      "read_level": 3, 
      "write_level": 7, 
      "attributes": {
        "string_val": {"type": "string", "value": "edit & save me", "size": 40}, 
        "log_level": {"type": "int", "value": 2}, 
        "double_val": {"type": "double", "value": 123.12345, "format": "%.5f"}, 
        "int_val": {"type": "int", "value": 17}, 
        "bool_val": {"type": "bool", "value": true}
      }
    }, 
    "security": {
      "type": "object", 
      "read_level": 7, 
      "write_level": 7, 
      "attributes": {
        "admin_password": {"type": "string", "value": "admin", "size": 40}, 
        "user_password": {"type": "string", "value": "user", "size": 40}
      }
    }, 
    "events": {
      "type": "array", 
      "name": "event", 
      "size": 125, 
      "attributes": {
        "priority": {"type": "int", "value": 1}, 
        "active": {"type": "bool", "value": true}, 
        "message": {"type": "string", "value": "some event", "size": 50}
      }
    }
  }, 
  "ui": {
    "production": false, 
    "brand": "My Brand", 
    "logo": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n    <svg viewBox=\"88.087 148.705 306.419 146.216\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect x=\"88.087\" y=\"148.705\" width=\"306.419\" height=\"146.216\" rx=\"27.838\" ry=\"27.838\" style=\"stroke: rgb(0, 0, 0); stroke-width: 0px; fill: rgba(0, 0, 0, 0.04);\"/>\n      <text style=\"fill: rgba(0, 0, 0, 0.13); font-family: Arial, sans-serif; font-size: 48px; font-weight: 700; white-space: pre;\" x=\"140\" y=\"241\">My Logo</text>\n    </svg>", 
    "toolbar": {
      "label": "My product console"
    }, 
    "heartbeat": 1, 
    "buttons": "blue", 
    "css": "\nhtml, body { height: 100%; margin: 0; padding: 0; box-sizing: border-box; font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji; }\nbody { height: 100vh; }\n\na[href], a[href]:visited { color: blue; text-decoration: none;}\n\ninput:focus, textarea:focus, *:focus {\n  border-color: #ccc !important; outline: none; box-shadow: none !important;\n  -webkit-box-shadow: none !important; -moz-box-shadow: none !important\n}\n\ninput {\n  display:inline-flex; border-radius:0.25rem; border:1px solid #ccc;\n  padding: 0.25rem 0.5rem; outline: none; color:rgb(75,85,99);\n}\n\ninput:disabled, select:disabled  { background: #f5f5f5; cursor: not-allowed; }\n.toggle:disabled { background: #c5c5c5 !important; cursor: not-allowed; }\n.button:disabled, .button:hover:disabled { background:rgb(209,213,219); cursor: not-allowed; }\n\ninput.editing { background: rgb(254 252 232) !important; }\n.toggle.editing { background: rgb(245 158 11) !important; }\n\nselect {\n  border-radius:0.25rem; border: 1px solid #ccc; padding:0.25rem;\n  font-size:0.875rem; line-height:1.25rem; color:rgb(75,85,99);\n}\n\n.pulse { animation: pulse-animation 1.5s infinite; }\n@keyframes pulse-animation {\n  from { box-shadow: 0 0 0 0px rgba(0, 0, 0, 0.2); }\n  to { box-shadow: 0 0 0 20px rgba(0, 0, 0, 0); }\n}\n\n.loading { animation: loading 1s infinite linear; }\n@keyframes loading {\n  0% { transform:  translateX(0) scaleX(0); }\n  40% { transform:  translateX(0) scaleX(0.4); }\n  100% { transform:  translateX(100%) scaleX(0.5); }\n}\n\n.spin { animation: spin 1s infinite linear; }\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n[tooltip] { position: relative; }\n[tooltip]::after {\n  background: #444; border-radius: .2em; color: #fff; display: none;\n  padding: .25em 1em; position: absolute; xtext-align: center; z-index: 9999;\n}\n[tooltip]::before {\n  background: #444; content: ' '; display: none; position: absolute;\n  width: 1em; height: 1em; z-index: 9999;\n}\n[tooltip]:hover::after { display: block; }\n[tooltip]:hover::before { display: block; }\n[tooltip]::after { content: attr(tooltip); bottom: 0; left: 50%; transform: translate(-50%, calc(100% + 10px)); white-space: nowrap; }\n[tooltip]::before { bottom: 0; left: 50%; transform: translate(-50%, calc(100% + 5px)) rotate(45deg); }\n\n.transform { transform:translate(0, 0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1); }\n.translate-x-0 { transform:translate(0px, 0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1); }\n.translate-x-full { transform:translate(100%, 0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1); }\n.-translate-x-full { transform:translate(-100%, 0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1); }\n.ml-72 { margin-left:18rem; }\n.font-bold { font-weight: 700; }\n.w-full, .w-100 { width: 100%; }\n.nowrap { white-space: nowrap; }\n.noround { border-radius:0px; }\n.hidden { display: none; }\n.grow { flex-grow: 1; }\n.rounded-full { border-radius:9999px !important; }\n.text-sm { font-size:0.875rem; line-height:1.25rem;  }\n\n.button {\n  display:inline-flex; align-items:center; justify-content:center; gap:0.5rem; ouline: none;\n  white-space:nowrap; border-radius:0.25rem; padding-left:0.625rem; border-shadow: none;\n  padding-right:0.625rem; padding-top:0.25rem; padding-bottom:0.25rem; cursor: pointer;\n  font-size:0.875rem; line-height:1.25rem; font-weight:600; color:white; border: none;\n}\n.button-sky,.button-sky:checked { background: #0369a1; } button.button-sky:hover { background:#0284c7;}\n.button-dark,.button-dark:checked { background:#525252; } button.button-dark:hover { background:#737373;  }\n.button-cyan,.button-cyan:checked { background:rgb(8,145,178); } button.button-cyan:hover { background:rgb(6,182,212); }\n.button-metal,.button-metal:checked { background:#565584; } button.button-metal:hover { background:#666594;  }\n.button-red,.button-red:checked { background:rgb(185,28,28); } button.button-red:hover { background:rgb(220,38,38);  }\n.button-orange,.button-orange:checked { background:rgb(234,88,12); } button.button-orange:hover { background:rgb(249,115,22); }\n.button-blue,.button-blue:checked { background:rgb(37, 99, 235); } button.button-blue:hover { background:rgb(59,130,246);;  }\n\n.status-circle { display:flex; align-items:center; gap:0.375rem; white-space:nowrap;  }\n.status-circle-green { color:rgb(34,197,94); }\n.status-circle-red { color:rgb(239,68,68); }\n\n.toggle {\n  position: relative; width: 2.75rem; height: 1.5rem; margin: 0;\n  vertical-align: top; background: #c5c5c5; border-color: transparent;\n  border-radius: 0.75rem; outline: none; cursor: pointer;\n  -webkit-appearance: none; -moz-appearance: none; appearance: none;\n}\n.toggle::after {\n  content: \"\"; position: absolute; left: 3px; top: 1px;\n  width: 1.25rem; height: 1.25rem; background: #fafafa; border-radius: 50%;\n  transition: all 0.3s;\n}\n.toggle:checked::after { transform: translateX(calc(100% - 2px)); }\n\n\na { color: #aaf; }\ntable { padding:0;margin:0;border:0; border-collapse: collapse; }\ntd { padding: 2px 0.25rem; }\n\n.main { flex-grow: 1; display: flex; flex-direction: column; }\n.dashboard-wrapper { position:relative; flex-grow: 1; display: flex; flex-direction: column; }\n\n.sidebar-wrapper { position:absolute; bottom:0px; left:0px; top:0px; width:18rem; transition:all; transition-duration:300ms;  }\n.page-wrapper { transition: all; transition-duration:300ms; background: rgb(241,245,249); flex-grow: 1; }\n.sidebar { position:relative; height:100%; user-select:none; background: white; }\n.sidebar-top { display:flex; align-items:center; gap:0.5rem; padding-left:0.75rem; padding-right:0.75rem; padding-top:0.5rem; padding-bottom:0.5rem;  }\n.logo { display: inline-block; height:4rem;width:50%;cursor:pointer;align-items:center;justify-content:center; }\n.logo svg { max-width: 100% !important; max-height: 100% !important; }\n.brand-name { font-weight: bold; font-size: 100%; color: #677589; display:flex; flex-grow:1; justify-content:center;}\n.sidebar-item-list { }\n.sidebar-item { display:flex; cursor:pointer; align-items:center; gap:0.5rem; padding:0.4rem 1rem; border-bottom: 1px solid rgb(226,232,240); }\n.sidebar-selected-item { background:rgb(241,245,249); outline: none; }\n\n.toolbar { position:relative; display:flex; align-items:center; gap:0.5rem; border-bottom-width:1px; background: white; padding: 0.5rem 0.75rem; color: rgb(148,163,184); text-overflow: ellipsis; }\n.toolbar-section1 {display:flex; align-items:center; gap:0.5rem; font-size:0.875rem; line-height:1.25rem; }\n.toolbar-section2 {font-size:0.875rem; line-height:1.25rem; }\n.toolbar-section3 {display:flex; align-items:center; gap:0.5rem; }\n.toolbar-divider { font-size:0.875rem; line-height:1.25rem; }\n\n.page { padding: 0.75em; gap: 0.75em; min-height: 2em; display: flex; flex-direction: column; flex-grow: 1; }\n\n.card { padding: 0.5em 0.8em; display:flex; flex-direction:column; border-radius:0.5rem; border: 1px solid rgb(226,232,240); background:white; flex: 1 1 auto; gap: 0.25rem; flex: 1 1 0; white-space: nowrap; }\n.card > div:nth-child(1) { font-size: 85%; color: rgb(107,114,128); }\n.card > div:nth-child(2) { font-size: 140%; font-weight: 600; color: rgb(71,85,105); }\n\n.panel { display: flex; flex-direction: column; gap: 0.4rem; background: white; border: 1px solid rgb(226,232,240); border-radius: 0.5rem; padding: 0.5em 0.8em; }\n.panel > .title { border-bottom: 1px solid rgb(226,232,240); margin: -0.5rem -0.8rem 0 -0.8rem; padding: 0.5rem 0.8em 0.3rem 0.8rem; background: #fafafa; border-radius: 0.5rem 0.5rem 0 0; }\n\n.container-h { display: flex; gap: 0.5rem; min-height: 2em;  }\n.container-v { display: flex; gap: 0.5rem; min-height: 2em; flex-direction: column; }\n.wrap { flex-wrap: wrap; }\n.size-equal { flex: 1 1 0; }\n.size-auto { flex: 1 1 auto; }\n\n.form-control { display:flex; align-items:center; justify-content:space-between;  }\n.title { font-size: 0.875rem;  white-space: nowrap; text-overflow: ellipsis; font-weight: bold; color:rgb(71,85,105); }\n.label { font-size: 0.875rem;  white-space: nowrap; text-overflow: ellipsis; color:rgb(71,85,105); }\n\n.note { background: white; border: 1px solid rgb(226,232,240); color: rgb(108,123,144); padding: 0.5em 0.8em; border-radius: 0.5em; font-size: 90%; display: flex; flex-direction: column; gap: 0.5rem; }\n\n@media (max-width: 640px) {\n  .panel, .card { flex: 1 1 100% !important;}\n}\n", 
    "pages": [
      {"title": "Dashboard", "icon": "desktop", "level": 0, "classes": "page", "layout": [
          {"classes": "container-h", "layout": [
              {"classes": "card", "layout": [
                  {"format": "Speed"},
                  {"format": "${state.speed} km/h"}
                ]},
              {"classes": "card", "layout": [
                  {"format": "Temperature"},
                  {"format": "${state.temperature} °C", "conditions": [
                      {"expr": "state.temperature > 25", "css": "color: #c33; font-weight: 700;"}
                    ]}
                ]},
              {"classes": "card", "layout": [
                  {"format": "Humidity"},
                  {"format": "${state.humidity}%"}
                ]},
              {"classes": "card", "layout": [
                  {"format": "Uptime"},
                  {"format": "${state.uptime}s"}
                ]},
              {"classes": "card", "layout": [
                  {"format": "Firmware version"},
                  {"format": "${state.version}"}
                ]}
            ]},
          {"classes": "container-h", "layout": [
              {"classes": "container-v", "css": "flex: 0 0 16rem;", "layout": [
                  {"classes": "panel", "layout": [
                      {"classes": "title", "format": "LED control panel"},
                      {"classes": "form-control", "layout": [
                          {"classes": "label", "format": "LED1"},
                          {"type": "toggle", "ref": "leds.led1", "autosave": true}
                        ]},
                      {"classes": "form-control", "layout": [
                          {"classes": "label", "format": "LED2"},
                          {"type": "toggle", "ref": "leds.led2", "autosave": true}
                        ]},
                      {"classes": "form-control", "layout": [
                          {"classes": "label", "format": "LED3"},
                          {"type": "toggle", "ref": "leds.led3", "autosave": true}
                        ]}
                    ]},
                  {"classes": "panel", "layout": [
                      {"classes": "title", "format": "Status panel"},
                      {"classes": "form-control", "layout": [
                          {"classes": "label", "format": "Online status"},
                          {"type": "status", "ref": "state.online", "labels": "offline,online"}
                        ]},
                      {"classes": "form-control", "layout": [
                          {"classes": "label", "format": "Console status"},
                          {"type": "status", "ref": "state.lights", "labels": "offline,online"}
                        ]}
                    ]},
                  {"classes": "panel", "layout": [
                      {"classes": "title", "format": "Water tank level"},
                      {"css": "padding: 0.25rem 0;", "layout": [
                          {"type": "progress", "ref": "state.level", "color": "rgb(186,230,253)", "css": "padding: 1rem 0; "}
                        ]}
                    ]}
                ]},
              {"classes": "container-v", "layout": [
                  {"classes": "container-h", "layout": [
                      {"classes": "note", "layout": [
                          {"classes": "title", "format": "Developer note"},
                          {"format": "This dashboard is composed of multiple pages, which contain widgets."},
                          {"format": "Widgets can contain other widgets. It is possible to create arbitrarily complex layouts by nesting."},
                          {"format": "To add/remove/rename pages, select the \"sidebar\" tab at the bottom and adjust the configuration."},
                          {"format": "To edit the contents of a page, click on widgets and edit/add/delete them as required. To adjust the settings of a widget, select it and edit properties it in the right panel."},
                          {"format": "To add dynamic variables which are sent to and retrieved from your application, select the 'API' tab at the bottom and modify the JSON defining the REST endpoints. Each top level object in the JSON is a new endpoint. An endpoint can contain multiple variables, and is mapped to a C structure."},
                          {"format": "To edit the configuration manually, click on the \"export\" button to download wizard.json configuration file. Edit it, and import back."},
                          {"format": "Click on the \"Docs\" toolbar button to view the JSON format details."}
                        ]}
                    ]},
                  {"classes": "container-h", "layout": [
                      {"classes": "panel", "css": "flex-grow: 1;", "layout": [
                          {"format": "Temperature", "classes": "title"},
                          {"type": "graph", "ref": "graph1", "color": "#39c"}
                        ]},
                      {"classes": "panel", "css": "flex: 0 0 12em;", "layout": [
                          {"classes": "title", "format": "Humididy"},
                          {"classes": "flex", "css": "gap: 1em;", "layout": [
                              {"type": "gauge", "ref": "state.humidity", "color": "rgb(186,230,253)"}
                            ]}
                        ]}
                    ]}
                ]}
            ]}
        ]},
      {"title": "Device Settings", "icon": "settings", "level": 3, "classes": "page", "layout": [
          {"classes": "container-h wrap", "css": "align-items: start;", "layout": [
              {"classes": "panel", "css": "flex: 0 0 22rem;", "layout": [
                  {"classes": "title", "format": "Device Settings"},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "String value"},
                      {"type": "input", "ref": "settings.string_val"}
                    ]},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "Double value"},
                      {"type": "input", "ref": "settings.double_val"}
                    ]},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "Integer value"},
                      {"type": "input", "ref": "settings.int_val"}
                    ]},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "Bool value"},
                      {"type": "toggle", "ref": "settings.bool_val"}
                    ]},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "Dropdown (integer)"},
                      {"type": "dropdown", "ref": "settings.log_level", "options": "disabled,alert,info,debug", "css": "min-width: 8em;"}
                    ]},
                  {"classes": "form-control", "css": "margin-top: 0.25rem;", "layout": [
                      {},
                      {"type": "savebutton", "ref": "settings"}
                    ]}
                ]},
              {"classes": "panel", "css": "flex: 0 0 16em;", "layout": [
                  {"classes": "title", "format": "File uploads"},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "Upload file"},
                      {"type": "upload", "ref": "file_upload", "title": "choose file", "icon": "ellipsis-horizontal"}
                    ]}
                ]}
            ]}
        ]},
      {"title": "Firmware Update", "icon": "import", "level": 7, "classes": "page", "layout": [
          {"classes": "container-h wrap", "layout": [
              {"classes": "panel", "css": "flex: 0 0 24em;", "layout": [
                  {"classes": "title", "format": "Firmware Update"},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "Current firmware version"},
                      {"format": "${state.version}"}
                    ]},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "Upload new firmware"},
                      {"type": "ota", "ref": "firmware_update", "title": "select .bin file", "icon": "ellipsis-horizontal", "accept": ".bin"}
                    ]},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "Reboot device"},
                      {"type": "action", "ref": "reboot", "title": "reboot", "icon": "caret-right"}
                    ]}
                ]}
            ]}
        ]},
      {"classes": "page", "title": "Events", "icon": "bell", "level": 3, "layout": [
          {"classes": "panel", "layout": [
              {"classes": "title", "format": "Events"},
              {"format": "(TODO: events table goes here)", "css": "color: silver;"}
            ]}
        ]},
      {"classes": "page", "title": "Admin Password", "icon": "lock", "level": 7, "layout": [
          {"classes": "container-h wrap", "layout": [
              {"classes": "panel", "css": "flex: 0 0 24em;", "layout": [
                  {"classes": "title", "format": "Change admin password"},
                  {"classes": "form-control", "layout": [
                      {"classes": "label", "format": "New password"},
                      {"type": "input", "ref": "security.admin_password", "password": true}
                    ]},
                  {"classes": "form-control", "layout": [
                      {},
                      {"type": "savebutton", "ref": "security"}
                    ]}
                ]}
            ]}
        ]}
    ]
  }
}